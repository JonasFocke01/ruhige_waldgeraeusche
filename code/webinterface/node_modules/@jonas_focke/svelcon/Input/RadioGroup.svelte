<svelte:options accessors />

<!-- @component
display a basic radio group

**label**
* string
* default: !NO DEFAULT!
* sets the label of the Group

**items**
* Array<string>
* default: !NO DEFAULT!
* sets the items of the Group

**chosenItem**
* string
* default: 'none'
* represents the checked item of the Group

**on:change**
* function
* default: !NO DEFAULT!
* is called when the chosen item changes

**disabled**
* boolean
* default: false
* if true, the group is disabled/readonly

**showDisabledIcon**
* boolean
* default: false
* if true, the disabled icon will be displayed, if the group is disabled
 -->
<script>import { createEventDispatcher } from 'svelte/internal';
import Text from '../Wrapper/Text.svelte';
import MdDoNotDisturbAlt from 'svelte-icons/md/MdDoNotDisturbAlt.svelte';
let eventDispatcher = createEventDispatcher();
export let label = '';
export let items = [];
export let chosenItem = 'none';
export let disabled = false;
export let showDisabledIcon = false;
const uniqName = Date.now().toString() + Math.random().toString();
function clickIt(item) {
    chosenItem = item;
    eventDispatcher('change', item);
}
</script>

<div>
  {#if label}
    <div class="flex flex-row">
      <Text text={label} />
      {#if disabled && showDisabledIcon}
         <div class="mt-1 w-4 text-text">
        <MdDoNotDisturbAlt />
      </div>
      {/if}
    </div>
  {/if}
  {#if items.length}
    {#each items as item}
      <div class="flex flex-row mt-1">
        <input
          type="radio"
          id={item}
          name={uniqName}
          on:click={() => clickIt(item)}
          {disabled}
        />
        <div class="-mt-1 ml-2">
          <Text text={item} />
        </div>
      </div>
    {/each}
  {/if}
</div>
