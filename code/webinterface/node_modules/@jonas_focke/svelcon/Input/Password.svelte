<!-- @component
  a basic input field which displays the letters as dots

  **label**
  * string
  * default: 'Label'
  * sets the label of the field

  **password**
  * string
  * default: ''
  * represents the value of the field

  **placeholder**
  * string
  * default: 'Placeholder'
  * sets the placeholder for the field

  **on:valueChanged**
  *same as on:change but dispatched after hashing the value*
  * function
  * default: () => {}
  * sets the callback function for the change event

  **disabled**
  * boolean
  * default: false
  * sets the field to disabled/readonly

  **showDisabledIcon**
  * boolean
  * default: false
  * shows a disabled icon if the field is disabled

  **required**
  * boolean
  * default: false
  * sets the field to required
 -->
<script>import Text from '../Wrapper/Text.svelte';
import { sha256 } from 'js-sha256';
import MdDoNotDisturbAlt from 'svelte-icons/md/MdDoNotDisturbAlt.svelte';
export let placeholder = 'Placeholder';
export let label = 'Label';
export let password = '';
export let required = false;
export let disabled = false;
export let showDisabledIcon = false;
let value = '';
$: password = sha256(value);
</script>

<label class="block">
  <div class="flex flex-row">
    <Text text={label} />
    {#if disabled && showDisabledIcon}
      <div class="mt-1 w-4 text-text">
        <MdDoNotDisturbAlt />
      </div>
    {/if}
  </div>
  <input
    {required}
    type="password"
    class="block w-full rounded-md shadow-sm pl-3 pt-1 pb-1 text-black"
    {placeholder}
    bind:value
    {disabled}
  />
</label>
